<div class="relative size-10 mx-auto opacity-0" id="logo-container">
  <canvas class="w-full h-full block" id="logo-canvas"></canvas>
</div>

<script>
  import { ParticleSystem } from "./particleSystem.js";
  import { animate } from 'motion';

  function initLogoParticles() {
    const canvas = document.getElementById("logo-canvas");

    if (!canvas) return;

    const config = {
      // Particle configuration
      radius: 1,
      particleSize: 0.12,

      // Animation settings (disabled by default)
      continuousAnimation: false,
      animationType: "none",
      animationSpeed: 1.0,
      animationIntensity: 0.3,
      animationDirection: "clockwise",
      animationPhase: 0.2,
      animationAmplitude: 1.0,

      // Auto-rotation settings
      autoRotate: true,
      autoRotateSpeedX: 0.0,
      autoRotateSpeedY: 0.25,
      autoRotateSpeedZ: 0.0,
      rotationX: 0,
      rotationY: 0,
      rotationZ: 0,

      // Camera settings
      cameraPosition: [0, 0, 5],
      cameraTarget: [0, 0, 0],

      // Visual settings
      backgroundColor: "transparent",
    };

    
    const particleSystem = new ParticleSystem(canvas, config);

    // @ts-ignore
    window.logoParticleSystem = particleSystem;

    
    animateLogoEntrance();
  }

  function animateLogoEntrance() {
    const logoContainer = document.getElementById("logo-container");
    if (!logoContainer) return;

    animate(
      logoContainer,
      { opacity: [0, 1] },
      {
        duration: 0.8,
        delay: 0.6,
        ease: "easeOut"
      }
    );
  }

  
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initLogoParticles);
  } else {
    initLogoParticles();
  }

  
  window.addEventListener("beforeunload", () => {
    // @ts-ignore
    if (window.logoParticleSystem) {
      // @ts-ignore
      window.logoParticleSystem.dispose();
    }
  });
</script>
