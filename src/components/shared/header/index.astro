---
import Logo from "../logo/index.astro";
---

<div class="sticky top-0 max-h-0 z-50 overflow-visible w-full">
  <header class="w-full p-4 flex items-center justify-between">
    <div class="p-4 flex items-center justify-center w-full">
      <Logo />
    </div>
  </header>

  <!-- Fixed overlay that fades out before hero animations -->
  <div
    id="page-overlay"
    class="fixed inset-0 bg-white opacity-100 pointer-events-none z-[9999]"
  ></div>
</div>

<script>
  import { animate } from 'motion';

  function initPageOverlay() {
    const overlay = document.getElementById('page-overlay');
    if (!overlay) return;

    // Fade out overlay before hero animations start
    animate(
      overlay,
      { opacity: [1, 0] },
      {
        duration: 0.4,
        delay: 0.2,
        ease: "easeOut"
      }
    );
  }

  // Initialize overlay animation when DOM is ready
  if (document.readyState === "loading") {
    document.addEventListener('DOMContentLoaded', initPageOverlay);
  } else {
    initPageOverlay();
  }
</script>
